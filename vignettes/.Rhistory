devtools::install_github("AU-BCE-EE/ABM", build_vignettes = TRUE)
install.packages("devtools")
devtools::install_github("AU-BCE-EE/ABM", build_vignettes = TRUE)
devtools::install_github("AU-BCE-EE/ABM", build_vignettes = FALSE)
library(ABM)
abm(365,1)
library(dplyr)
abm(365,1)
install.packages('devtools')
devtools::install_github('AU-BCE-EE/ABM', build_vignettes = FALSE)
install.packages("devtools")
library(dplyr)
library(ABM)
temp_dat <- data.frame(time = c(1, 50, 190, 240, 290, 315, 365), temp_C = c(8, 9, 26, 28, 26, 9, 9))
plot(temp_C ~ time, data = temp_dat, type = 'l')
t3 <- t2 <- temp_dat
t2$time <- t2$time  + 365
t3$time <- t3$time + 730
temp_dat <- rbind(temp_dat, t2, t3)
out0 <- abm(3*365, add_pars = list(temp_C = temp_dat, max_slurry_mass = 202777, slurry_mass = 0.3 * 202777))
t3 <- t2 <- temp_dat
t3 <- t2 <- temp_dat
t2$time <- t2$time  + 365
t3$time <- t3$time + 730
temp_dat <- rbind(temp_dat, t2, t3)
t3 <- t2 <- temp_dat
t2$time <- t2$time  + 365
t3$time <- t3$time + 730
temp_dat <- rbind(temp_dat, t2, t3)
t3 <- t2 <- temp_dat
t2$time <- t2$time  + 365
t3$time <- t3$time + 730
temp_dat <- rbind(temp_dat, t2, t3)
out0 <- abm(3*365, add_pars = list(temp_C = temp_dat, storage_depth = 4, slurry_mass = 0.3 * 202777))
4*1000
out0 <- abm(3*365, add_pars = list(temp_C = temp_dat, storage_depth = 4, area = 1000, slurry_mass = 0.3 * 202777))
4000
4000*1000
4000*1000/400
out0 <- abm(3*365, add_pars = list(temp_C = temp_dat, slurry_prod_rate = 10000, storage_depth = 4,
area = 1000, empty_int = 182.5,
slurry_mass = 0.3 * 1000 * 4))
plot(slurry_mass/1000 ~ time, data = out0, type = 'l', xlab = 'Time (d)', ylab = 'Slurry mass (t)')
plot(temp_C ~ time, data = out0, type = 'l', xlab = 'Time (d)', ylab = 'Slurry mass (t)')
matplot(out0$time, out0[, nn <- c('m1_conc', 'm2_conc', 'm3_conc')],
type = 'l', lty = 1, xlab = 'Time (d)', ylab = 'Microbial biomass (g)')
What is the predicted respons of methanogen populations?
View(out0)
matplot(out0$time, out0[, nn <- c('m1_conc', 'm2_conc', 'm3_conc')],
type = 'l', lty = 1, xlab = 'Time (d)', ylab = 'Microbial biomass (g)')
matplot(out0$time, out0[, nn <- c('m1', 'm2', 'm3')],
type = 'l', lty = 1, xlab = 'Time (d)', ylab = 'Microbial biomass (g)')
matplot(out0$time, out0[, c('m1', 'm2', 'm3')],
type = 'l', lty = 1, xlab = 'Time (d)', ylab = 'Microbial biomass (g)')
matplot(out0$time, out0[, c(m1, m2, m3)],
type = 'l', lty = 1, xlab = 'Time (d)', ylab = 'Microbial biomass (g)')
matplot(out0$time, out0[, 'm1'],
type = 'l', lty = 1, xlab = 'Time (d)', ylab = 'Microbial biomass (g)')
matplot(out0$time, out0[, c('m1','m2')],
type = 'l', lty = 1, xlab = 'Time (d)', ylab = 'Microbial biomass (g)')
matplot(out0$time, out0[, c('m1','m2','m3')],
type = 'l', lty = 1, xlab = 'Time (d)', ylab = 'Microbial biomass (g)')
matplot(out0$time, out0[, c('m0','m1','m2')],
type = 'l', lty = 1, xlab = 'Time (d)', ylab = 'Microbial biomass (g)')
legend('topleft', nn, col = 1:6, lty = 1)
matplot(out0$time, out0[, c('m0','m1','m2')/1000],
type = 'l', lty = 1, xlab = 'Time (d)', ylab = 'Microbial biomass (kg)')
matplot(out0$time, out0[, c('m0','m1','m2')]/1000,
type = 'l', lty = 1, xlab = 'Time (d)', ylab = 'Microbial biomass (kg)')
legend('topleft', nn, col = 1:6, lty = 1)
matplot(out0$time, out0[, nn <- c('m0','m1','m2')]/1000,
type = 'l', lty = 1, xlab = 'Time (d)', ylab = 'Microbial biomass (kg)')
legend('topleft', nn, col = 1:6, lty = 1)
plot(CH4_emis_rate ~ time, data = out0, type = 'l', xlab = 'Time (d)', ylab = 'Emission rate (g/d)')
plot(CH4_emis_cum ~ time, data = out0, type = 'l', xlab = 'Time (d)', ylab = 'Cumulative emission (g)')
plot(slurry_mass/1000 ~ time, data = out0, type = 'l', xlab = 'Time (d)', ylab = 'Slurry mass (t)')
plot(temp_C ~ time, data = out0, type = 'l', xlab = 'Time (d)', ylab = 'Slurry mass (t)')
matplot(out0$time, out0[, nn <- c('m0','m1','m2')]/1000,
type = 'l', lty = 1, xlab = 'Time (d)', ylab = 'Microbial biomass (kg)')
legend('topleft', nn, col = 1:6, lty = 1)
plot(CH4_emis_rate ~ time, data = out0, type = 'l', xlab = 'Time (d)', ylab = 'Emission rate (g/d)')
plot(CH4_emis_cum ~ time, data = out0, type = 'l', xlab = 'Time (d)', ylab = 'Cumulative emission (g)')
plot(VFA_conc ~ time, data = out0, type = 'l', xlab = 'Time (d)', ylab = 'VFA conc. (g/kg)')
out0a <- abm(3*365, add_pars = list(temp_C = temp_dat, storage_depth = 4, area = 1000, slurry_mass = 0.3 * 4 * 1000), startup = 730, value = 'summ')
out0a
out0a['CH4_emis_cum']
out0a['f_COD_CH4']
out0b <- abm(3*365, add_pars = list(temp_C = temp_dat, max_slurry_mass = 202777, slurry_mass = 0.3 * 202777, pH = 5.5), startup = 730, value = 'summ')
out0b <- abm(3*365, add_pars = list(temp_C = temp_dat, storage_depth = 4, area = 1000, slurry_mass = 0.3 * 4 * 1000, empty_int = 182.5, pH = 5.5), startup = 730, value = 'summ', pH = 5.5)
out0b <- abm(3*365, add_pars = list(temp_C = temp_dat, storage_depth = 4, area = 1000, slurry_mass = 0.3 * 4 * 1000, empty_int = 182.5, pH = 5.5), startup = 730, value = 'summ')
out0b
1 - out0b['CH4_emis_cum'] / out0a['CH4_emis_cum']
out2 <- abm(365, 1, man_pars = list(conc_fresh = list(S2 = 0.0, SO4 = 0.2, TAN = 1.0,
VFA = 4.2, VSd = 65),
pH = 6))
